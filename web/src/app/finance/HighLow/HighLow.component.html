
<p-messages [(value)]="msgs"></p-messages> 
<hr/>
{{httpError}}

<div  *ngFor="let aSpanShot of oldSnapShots; index as i;first as isFirst;last as isLast"> 
<br/><br/><br/>
{{aSpanShot[0].lt_dts}}<br/>
                <p-dataTable #dg [responsive]="false" [(selection)]="selectedScripts" 
                [value]="aSpanShot"  [rows]="20" [paginator]="true"
                (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowUnselect($event)">
                        <p-column [style]="{'width':'38px'}" selectionMode="multiple"></p-column>
                        <p-column [style]="{'width':'100px'}" field="t" header="Ticker" [sortable]="true"></p-column>
                        <p-column [style]="{'width':'100px'}" field="l_fix" header="CMP" [sortable]="true"></p-column>
                        <p-column  [style]="{'width':'100px'}" field="previousCloseChange"  header="Close" [sortable]="true">
                          <ng-template let-row="rowData" pTemplate="body">
                            <span [ngClass]="{'profitBack' : (row.previousCloseChange >=0) , 'lossBack' : (row.previousCloseChange < 0)}">
                                    {{row.previousCloseChange  | number : '1.2-2'}}</span>
                          </ng-template>
                               
                        </p-column>
                        <p-column  [style]="{'width':'100px'}" field="openChange" header="Open" [sortable]="true">
                             <ng-template let-row="rowData" pTemplate="body">
                               <span [ngClass]="{'profitBack' : (row.openChange >=0) , 'lossBack' : (row.openChange < 0)}">
                                       {{row.openChange  | number : '1.2-2'}}</span>
                              </ng-template>
                               
                        </p-column>
                        <p-column  [style]="{'width':'100px'}" field="totalTradedVolume" header="Vol" [sortable]="true"></p-column>
                        <p-column  [style]="{'width':'100px'}" field="deliveryToTradedQuantity" header="Delivery" [sortable]="true"></p-column>
                        <p-column  [style]="{'width':'100px'}" field="high52Change" header="52 High" [sortable]="true">
                                <ng-template let-row="rowData" pTemplate="body">
                                 <span [ngClass]="{'profitBack' : (row.high52Change >=0) , 'lossBack' : (row.high52Change < 0)}">
                                          {{row.high52Change  | number : '1.2-2'}}</span>
                               </ng-template>
                               
                        </p-column>
                
                        <p-column  [style]="{'width':'100px'}" field="low52Change" header="52 Low" [sortable]="true">
                                <ng-template let-row="rowData" pTemplate="body">
                                   <span [ngClass]="{'profitBack' : (row.low52Change >0) , 'lossBack' : (row.low52Change <= 0)}">
                                       {{row.low52Change  | number : '1.2-2'}}</span>
                                </ng-template>
                        </p-column>
                       
                        <p-column  [style]="{'width':'100px'}" field="dayHighChange" header="Day High" [sortable]="true">
                        <ng-template let-row="rowData" pTemplate="body">
                                <span [ngClass]="{'profitBack' : (row.dayHighChange >=0) , 'lossBack' : (row.dayHighChange < 0)}">
                                {{row.dayHighChange  | number : '1.2-2'}}</span>
                        </ng-template>
                        </p-column>
                
                        <p-column  [style]="{'width':'100px'}" field="dayLowChange" header="Day Low" [sortable]="true">
                                <ng-template let-row="rowData" pTemplate="body">
                                        <span [ngClass]="{'profitBack' : (row.dayLowChange >0) , 'lossBack' : (row.dayLowChange <= 0)}">
                                        {{row.dayLowChange  | number : '1.2-2'}}</span>
                                </ng-template>
                        </p-column>
                </p-dataTable>
</div>

